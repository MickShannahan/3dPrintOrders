import{o as U,r as f,d as m,e as y,a as n,c as d,b as e,f as a,t as v,w as h,v as q,g as x,F as M,h as j,i as _,j as k,k as N,P,A as w}from"./index-890f560f.js";const B={class:"container-fluid"},E={class:"row justify-content-center"},A={class:"col-12 col-md-10 bg-page drop-1 rounded mb-3 mt-1 py-2"},H={class:"row mb-2"},I={class:"col-4 pe-0 ps-1"},R=e("i",{class:"mdi mdi-file-document text-warn"},null,-1),T={class:"text-warn"},G={class:"col-4 text-center px-1"},L=e("i",{class:"mdi mdi-package-variant-closed text-purple"},null,-1),z={class:"text-purple"},J={class:"col-4 text-end ps-0"},K=e("i",{class:"mdi mdi-currency-usd text-teal"},null,-1),Q={class:""},W={class:"row justify-content-between"},X={class:"col-12 col-md-4 mb-3 mt-2 mb-md-0"},Y={class:"input-group"},Z=e("button",{class:"input-group-text btn-accent"},[e("i",{class:"mdi mdi-magnify"})],-1),$={class:"col-3 col-md-1 my-1"},ee={class:"form-check form-switch"},te=e("label",{class:"form-check-label",for:"flexSwitchCheckDefault"},[e("i",{class:"mdi mdi-progress-clock text-yellow"})],-1),se={class:"col-3 col-md-1 my-1"},oe={class:"form-check form-switch"},ce=e("label",{class:"form-check-label",for:"flexSwitchCheckDefault"},[e("i",{class:"mdi mdi-package-variant-closed-check text-purple"})],-1),le={class:"col-3 col-md-1 my-1"},ae={class:"form-check form-switch"},ie=e("label",{class:"form-check-label",for:"flexSwitchCheckDefault"},[e("i",{class:"mdi mdi-check-decagram text-teal"})],-1),ne={class:"col-3 col-md-1 my-1"},de={class:"form-check form-switch"},re=e("label",{class:"form-check-label",for:"flexSwitchCheckDefault"},[e("i",{class:"mdi mdi-credit-card-check text-blue dodge-10"})],-1),ue=e("i",{class:"mdi mdi-filter text-purple"},null,-1),me={key:0,class:"row justify-content-center"},he={key:1,class:"row text-center text-dark dodge-50"},_e=e("div",{class:"col-12"},[a(" No Orders here "),e("i",{class:"mdi mdi-select-search"})],-1),pe=[_e],fe={key:2,class:"row text-center text-dark dodge-50"},ve=e("div",{class:"col-12"},[a(" loading orders... "),e("i",{class:"mdi mdi-loading mdi-spin text-accent"})],-1),xe=[ve],ye={__name:"HomePage",setup(ke){async function O(){try{p.value=!0,await N.getOrders()}catch(s){P.error(s,"[Getting Orders]")}finally{p.value=!1}}U(()=>{O(),b()});const r=f(""),g=f(!1),c=f({}),p=f(!1);function b(){r.value="",c.value={"in-queue":!0,printed:!0}}const S=m(()=>w.activeOrder),i=m(()=>w.orders.filter(s=>{if(g.value&&!s.paid)return!1;let t=!1;for(let u in c.value)s.status==u&&c.value[u]&&(t=!0);if(!t)return!1;if(r.value=="")return!0;const l=new RegExp(r.value,"ig");return l.test(s.customer)||l.test(s.model)||l.test(s.color)||l.test(s.customRequest)||l.test(s.status)})),D=m(()=>w.orders.length),V=m(()=>i.value.reduce((s,t)=>s+parseInt(t.qty),0)),F=m(()=>i.value.reduce((s,t)=>s+parseInt(t.cost),0));return(s,t)=>{const l=y("Order"),u=y("OrderForm"),C=y("Modal");return n(),d("section",B,[e("section",E,[e("div",A,[e("section",H,[e("div",I,[R,a(" Orders "),e("span",T,v(i.value.length)+"/"+v(D.value),1)]),e("div",G,[L,a(" Units "),e("span",z,v(V.value),1)]),e("div",J,[K,e("span",Q,v(F.value),1)])]),e("section",W,[e("div",X,[e("div",Y,[h(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=o=>r.value=o),class:"form-control",placeholder:"Search"},null,512),[[q,r.value]]),Z])]),e("div",$,[e("div",ee,[h(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>c.value["in-queue"]=o),class:"form-check-input input-yellow",type:"checkbox",role:"switch",id:"flexSwitchCheckDefault"},null,512),[[x,c.value["in-queue"]]]),te])]),e("div",se,[e("div",oe,[h(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>c.value.printed=o),class:"form-check-input input-purple",type:"checkbox",role:"switch",id:"flexSwitchCheckDefault"},null,512),[[x,c.value.printed]]),ce])]),e("div",le,[e("div",ae,[h(e("input",{"onUpdate:modelValue":t[3]||(t[3]=o=>c.value.complete=o),class:"form-check-input input-teal",type:"checkbox",role:"switch",id:"flexSwitchCheckDefault"},null,512),[[x,c.value.complete]]),ie])]),e("div",ne,[e("div",de,[h(e("input",{"onUpdate:modelValue":t[4]||(t[4]=o=>g.value=o),class:"form-check-input input-blue",type:"checkbox",role:"switch",id:"flexSwitchCheckDefault"},null,512),[[x,g.value]]),re])]),e("div",{class:"col-12 col-md-2 my-1 text-end"},[e("button",{onClick:b,class:"btn selectable text-purple"},[ue,a("clear ")])])])])]),i.value.length&&!p.value?(n(),d("section",me,[(n(!0),d(M,null,j(i.value,o=>(n(),d("div",{key:o.id,class:"col-12 col-md-10"},[_(l,{order:o},null,8,["order"])]))),128)),_(C,{id:"order-form"},{header:k(()=>[a("Create Order")]),body:k(()=>[_(u,{target:"order-form"})]),_:1}),_(C,{id:"update-form"},{header:k(()=>[a("Edit Order")]),body:k(()=>[_(u,{order:S.value,target:"update-form"},null,8,["order"])]),_:1})])):!i.value.length&&!p.value?(n(),d("section",he,pe)):(n(),d("section",fe,xe))])}}};export{ye as default};
