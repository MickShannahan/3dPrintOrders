import{d as U,r as p,c as r,e as g,o as u,a as m,b as e,f as a,t as f,w as h,v as q,g as v,F as M,h as j,i as _,j as x,k as P,P as B,A as w}from"./index-aa798222.js";const E={class:"container-fluid"},N={class:"row justify-content-center"},A={class:"col-12 col-md-10 bg-page drop-1 rounded mb-3 mt-1 py-2"},H={class:"row mb-2"},R={class:"col-4 pe-0 ps-1"},T=e("i",{class:"mdi mdi-file-document text-yellow"},null,-1),G={class:"text-yellow"},L={class:"col-4 text-center px-1"},z=e("i",{class:"mdi mdi-package-variant-closed text-purple"},null,-1),I={class:"text-purple"},J={class:"col-4 text-end ps-0"},K=e("i",{class:"mdi mdi-currency-usd text-teal"},null,-1),Q={class:"text-light"},W={class:"row justify-content-between"},X={class:"col-12 col-md-4 mb-3 mt-2 mb-md-0"},Y={class:"input-group"},Z=e("button",{class:"input-group-text btn-accent"},[e("i",{class:"mdi mdi-magnify"})],-1),$={class:"col-3 col-md-1 my-1"},ee={class:"form-check form-switch"},te=e("label",{class:"form-check-label",for:"flexSwitchCheckDefault"},[e("i",{class:"mdi mdi-progress-clock text-yellow"})],-1),se={class:"col-3 col-md-1 my-1"},oe={class:"form-check form-switch"},le=e("label",{class:"form-check-label",for:"flexSwitchCheckDefault"},[e("i",{class:"mdi mdi-package-variant-closed-check text-purple"})],-1),ce={class:"col-3 col-md-1 my-1"},ae={class:"form-check form-switch"},ie=e("label",{class:"form-check-label",for:"flexSwitchCheckDefault"},[e("i",{class:"mdi mdi-check-decagram text-teal"})],-1),ne={class:"col-3 col-md-1 my-1"},de={class:"form-check form-switch"},re=e("label",{class:"form-check-label",for:"flexSwitchCheckDefault"},[e("i",{class:"mdi mdi-credit-card-check text-blue dodge-10"})],-1),ue=e("i",{class:"mdi mdi-filter text-purple"},null,-1),me={key:0,class:"row justify-content-center"},he={key:1,class:"row text-center text-dark dodge-50"},_e=e("i",{class:"mdi mdi-loading mdi-spin text-accent"},null,-1),ve={__name:"HomePage",setup(pe){async function O(){try{y.value=!0,await P.getOrders()}catch(s){B.error(s,"[Getting Orders]")}finally{y.value=!1}}U(()=>{O(),b()});const i=p(""),k=p(!1),l=p({}),y=p(!1);function b(){i.value="",l.value={"in-queue":!0,printed:!0}}const S=r(()=>w.activeOrder),n=r(()=>w.orders.filter(s=>{if(k.value&&!s.paid)return!1;let t=!1;for(let d in l.value)s.status==d&&l.value[d]&&(t=!0);if(!t)return!1;if(i.value=="")return!0;const c=new RegExp(i.value,"ig");return c.test(s.customer)||c.test(s.model)||c.test(s.color)||c.test(s.customRequest)||c.test(s.status)})),D=r(()=>w.orders.length),V=r(()=>n.value.reduce((s,t)=>s+t.qty,0)),F=r(()=>n.value.reduce((s,t)=>s+t.cost,0));return(s,t)=>{const c=g("Order"),d=g("OrderForm"),C=g("Modal");return u(),m("section",E,[e("section",N,[e("div",A,[e("section",H,[e("div",R,[T,a(" Orders "),e("span",G,f(n.value.length)+"/"+f(D.value),1)]),e("div",L,[z,a(" Units "),e("span",I,f(V.value),1)]),e("div",J,[K,e("span",Q,f(F.value),1)])]),e("section",W,[e("div",X,[e("div",Y,[h(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=o=>i.value=o),class:"form-control",placeholder:"Search"},null,512),[[q,i.value]]),Z])]),e("div",$,[e("div",ee,[h(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>l.value["in-queue"]=o),class:"form-check-input",type:"checkbox",role:"switch",id:"flexSwitchCheckDefault"},null,512),[[v,l.value["in-queue"]]]),te])]),e("div",se,[e("div",oe,[h(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>l.value.printed=o),class:"form-check-input",type:"checkbox",role:"switch",id:"flexSwitchCheckDefault"},null,512),[[v,l.value.printed]]),le])]),e("div",ce,[e("div",ae,[h(e("input",{"onUpdate:modelValue":t[3]||(t[3]=o=>l.value.complete=o),class:"form-check-input",type:"checkbox",role:"switch",id:"flexSwitchCheckDefault"},null,512),[[v,l.value.complete]]),ie])]),e("div",ne,[e("div",de,[h(e("input",{"onUpdate:modelValue":t[4]||(t[4]=o=>k.value=o),class:"form-check-input",type:"checkbox",role:"switch",id:"flexSwitchCheckDefault"},null,512),[[v,k.value]]),re])]),e("div",{class:"col-12 col-md-2 my-1 text-end"},[e("button",{onClick:b,class:"btn selectable text-purple"},[ue,a("clear ")])])])])]),n.value.length&&!y.value?(u(),m("section",me,[(u(!0),m(M,null,j(n.value,o=>(u(),m("div",{key:o.id,class:"col-12 col-md-10"},[_(c,{order:o},null,8,["order"])]))),128)),_(C,{id:"order-form"},{header:x(()=>[a("Create Order")]),body:x(()=>[_(d,{target:"order-form"})]),_:1}),_(C,{id:"update-form"},{header:x(()=>[a("Edit Order")]),body:x(()=>[_(d,{order:S.value,target:"update-form"},null,8,["order"])]),_:1})])):(u(),m("section",he,[a(" loading orders... "),_e]))])}}};export{ve as default};
