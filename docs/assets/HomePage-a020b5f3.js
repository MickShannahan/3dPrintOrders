import{o as q,r as v,d,e as w,a as n,c as r,b as e,f as a,t as u,w as h,v as M,g as x,F as j,h as N,i as p,j as k,k as P,P as B,A as y,l as E}from"./index-23007762.js";const A={class:"container-fluid"},H={class:"row justify-content-center"},I={class:"col-12 col-md-10 bg-page drop-1 rounded mb-3 mt-1 py-2"},R={class:"row mb-2"},T={class:"col-4 pe-0 ps-1"},G=e("i",{class:"mdi mdi-file-document text-warn"},null,-1),L={class:"text-warn"},z={class:"col-4 text-center px-1"},J=e("i",{class:"mdi mdi-package-variant-closed text-purple"},null,-1),K={class:"text-purple"},Q={class:"col-4 text-end ps-0"},W={title:"revenue"},X=e("i",{class:"mdi mdi-plus text-blue"},null,-1),Y={class:"text-page dodge-30"},Z={title:"estimated production costs"},$=e("i",{class:"mdi mdi-minus text-yellow"},null,-1),ee={class:"text-page dodge-30"},te={title:"profits"},se=e("i",{class:"mdi mdi-currency-usd text-teal"},null,-1),oe={class:"fw-bold"},le={class:"row justify-content-between"},ce={class:"col-12 col-md-4 mb-3 mt-2 mb-md-0"},ie={class:"input-group"},ae=e("button",{class:"input-group-text btn-accent"},[e("i",{class:"mdi mdi-magnify"})],-1),de={class:"col-3 col-md-1 my-1"},ne={class:"form-check form-switch"},re=e("label",{class:"form-check-label",for:"flexSwitchCheckDefault"},[e("i",{class:"mdi mdi-progress-clock text-yellow"})],-1),ue={class:"col-3 col-md-1 my-1"},me={class:"form-check form-switch"},_e=e("label",{class:"form-check-label",for:"flexSwitchCheckDefault"},[e("i",{class:"mdi mdi-package-variant-closed-check text-purple"})],-1),he={class:"col-3 col-md-1 my-1"},pe={class:"form-check form-switch"},fe=e("label",{class:"form-check-label",for:"flexSwitchCheckDefault"},[e("i",{class:"mdi mdi-check-decagram text-teal"})],-1),ve={class:"col-3 col-md-1 my-1"},xe={class:"form-check form-switch"},ke=e("label",{class:"form-check-label",for:"flexSwitchCheckDefault"},[e("i",{class:"mdi mdi-credit-card-check text-blue dodge-10"})],-1),ge=e("i",{class:"mdi mdi-filter text-purple"},null,-1),we={key:0,class:"row justify-content-center"},ye={key:1,class:"row text-center text-dark dodge-50"},be=e("div",{class:"col-12"},[a(" No Orders here "),e("i",{class:"mdi mdi-select-search"})],-1),Ce=[be],Oe={key:2,class:"row text-center text-dark dodge-50"},Se=e("div",{class:"col-12"},[a(" loading orders... "),e("i",{class:"mdi mdi-loading mdi-spin text-accent"})],-1),De=[Se],Ue={__name:"HomePage",setup(Fe){async function D(){try{f.value=!0,await P.getOrders()}catch(s){B.error(s,"[Getting Orders]")}finally{f.value=!1}}q(()=>{D(),b()});const m=v(""),g=v(!1),l=v({}),f=v(!1);function b(){m.value="",l.value={"in-queue":!0,printed:!0}}const F=d(()=>y.activeOrder),c=d(()=>y.orders.filter(s=>{if(g.value&&!s.paid)return!1;let t=!1;for(let _ in l.value)s.status==_&&l.value[_]&&(t=!0);if(!t)return!1;if(m.value=="")return!0;const i=new RegExp(m.value,"ig");return i.test(s.customer)||i.test(s.model)||i.test(s.color)||i.test(s.customRequest)||i.test(s.status)})),V=d(()=>y.orders.length),U=d(()=>c.value.reduce((s,t)=>s+parseInt(t.qty),0)),C=d(()=>c.value.reduce((s,t)=>s+parseInt(t.cost),0)),O=d(()=>c.value.reduce((s,t)=>(E.log(t),s+t.materialCost+t.powerCost+t.wearCost),0));return(s,t)=>{const i=w("Order"),_=w("OrderForm"),S=w("Modal");return n(),r("section",A,[e("section",H,[e("div",I,[e("section",R,[e("div",T,[G,a(" Orders "),e("span",L,u(c.value.length)+"/"+u(V.value),1)]),e("div",z,[J,a(" Units "),e("span",K,u(U.value),1)]),e("div",Q,[e("div",W,[X,e("small",Y,u(C.value),1)]),e("div",Z,[$,e("small",ee,u(O.value.toFixed(2)),1)]),e("div",te,[se,e("span",oe,u((C.value-O.value).toFixed(2)),1)])])]),e("section",le,[e("div",ce,[e("div",ie,[h(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=o=>m.value=o),class:"form-control",placeholder:"Search"},null,512),[[M,m.value]]),ae])]),e("div",de,[e("div",ne,[h(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>l.value["in-queue"]=o),class:"form-check-input input-yellow",type:"checkbox",role:"switch",id:"flexSwitchCheckDefault"},null,512),[[x,l.value["in-queue"]]]),re])]),e("div",ue,[e("div",me,[h(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>l.value.printed=o),class:"form-check-input input-purple",type:"checkbox",role:"switch",id:"flexSwitchCheckDefault"},null,512),[[x,l.value.printed]]),_e])]),e("div",he,[e("div",pe,[h(e("input",{"onUpdate:modelValue":t[3]||(t[3]=o=>l.value.complete=o),class:"form-check-input input-teal",type:"checkbox",role:"switch",id:"flexSwitchCheckDefault"},null,512),[[x,l.value.complete]]),fe])]),e("div",ve,[e("div",xe,[h(e("input",{"onUpdate:modelValue":t[4]||(t[4]=o=>g.value=o),class:"form-check-input input-blue",type:"checkbox",role:"switch",id:"flexSwitchCheckDefault"},null,512),[[x,g.value]]),ke])]),e("div",{class:"col-12 col-md-2 my-1 text-end"},[e("button",{onClick:b,class:"btn selectable text-purple"},[ge,a("clear ")])])])])]),c.value.length&&!f.value?(n(),r("section",we,[(n(!0),r(j,null,N(c.value,o=>(n(),r("div",{key:o.id,class:"col-12 col-md-10"},[p(i,{order:o},null,8,["order"])]))),128)),p(S,{id:"order-form"},{header:k(()=>[a("Create Order")]),body:k(()=>[p(_,{target:"order-form"})]),_:1}),p(S,{id:"update-form"},{header:k(()=>[a("Edit Order")]),body:k(()=>[p(_,{order:F.value,target:"update-form"},null,8,["order"])]),_:1})])):!c.value.length&&!f.value?(n(),r("section",ye,Ce)):(n(),r("section",Oe,De))])}}};export{Ue as default};
